/* 
 * templates/home
 * 
 * @package fegl
 */



/*
 * HOME PAGES 12.2020
 */

.node-type-homepage {

	#page {
		overflow: hidden;
	}

	.site-header {
		background: none;
		background: linear-gradient(180deg, black 0%, transparent 100%);
	}

	ul.nice-menu > li > a,
	.menu_group,
	.logo_menu_group,
	.head_languages,
	.upper-footer a,
	.upper-footer h4,
	.upper-footer .fc_11,
	.upper-footer,
	.footer a,
	.footer,
	.footer h4 {
		color: white;
	}

	.footer .sub_menu a {
		color: #bbbbbb;
	}

	.upper-footer {
	  z-index: 9999;
	  position: relative;
	}

	.footer {
	    z-index: 9999;
	    position: relative;
	    background: none;

	    @include placeholder(#bbbbbb);
	}

	.page-content {
		padding-top: 100vh;
	}

	.newsletter_form input[type="text"] {
		background: none;
    color: white;
    border-color: white;
	}
	.newsletter_form .inputs_bloc.inputs-submit input[type="button"] {
		color: black;
	}

	.upper-footer > .wrap {
		border-bottom: 1px solid #FFFFFF33;
	}

}


	.item_free_label {
		text-transform: uppercase;
		font-size: 17px;
		line-height: 24px;
		letter-spacing: 0.02em;
		font-style: normal;
		font-weight: normal;
		color: white;
	}


.news_feed {
	text-transform: uppercase;
	z-index: 99999;
	left: 0;
	right: 0;
	font-weight: 500;
	font-size: 29px;
	line-height: 33px;
	height: 34px;
	overflow: hidden;
	color: white;

	@include up-to(medium) {
		font-size: 22px;
		line-height: 27px;
		height: 28px;	
	}
	span {
		margin-left: 60px;
		display: inline-block;
	}

	&.bottom {
		position: relative;
	}
	&.top {
		position: fixed;
		top: 124px;
		transition: all .2s;
		&.fixed_top {
			top: 0;
		}
	}

	.scrolling &.top {
		opacity: 0;
	}

	&.is-relative {
		position: relative !important;
		top: auto !important;
		margin: 20px 0 30px;
	}
}
 

.hp_head {
	height: 100vh;
	width: 100vw;
	background-color: black;
	position: fixed;
	top: 0;
	bottom: 0;
	left: 0;
	right: 0; 

}

#hphead_chromeless {
	width: 100vw;
	height: 100vh;

	video,
	iframe {
		width: 100%;
		height: 100%;
		transform: scale(1.5);
	}

	&:after {
		position: absolute;
		content: '';
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: black;
		opacity: 0;
		z-index: 99;
		transition: opacity .4s;
	}

	.hp_scrolling &:after {
		opacity: .8;
	}
}

#hphead_content_bg {
	background-repeat: no-repeat;
	background-size: cover;
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 100vw;
	height: 100vh;
	opacity: 0;
	transition: opacity .5s;

	&.transition {
		opacity: 1;
	}

	@include up-to(medium) {

	}
}

#hphead_mobile_arrow {
	position: fixed;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 999;
	transition: opacity .4s;

	@include up-to(medium) {
		&:after {
		  font-family: 'icomoon' !important;
		  speak: none;
		  font-style: normal;
		  font-weight: normal;
		  font-variant: normal;
		  text-transform: none;
		  line-height: 1;

		  /* Better Font Rendering =========== */
		  -webkit-font-smoothing: antialiased;
		  -moz-osx-font-smoothing: grayscale;
  		content: "\e906";
			position: absolute;
			bottom: 0;
			padding-bottom: 20px;
			left: 0;
			right: 0;
			text-align: center;
			color: white;
			font-size: 1.4rem;
			height: 150px;
	    display: flex;
	    justify-content: center;
	    align-items: flex-end;
	    background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.65) 67.71%);
		}
	}
	.hp_scrolling & {
		opacity: 0;
	}
}
 
#hphead_content {
	z-index: 9999;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: opacity .4s;

	@include up-to(medium) {
		height: auto;
		width: auto;
		position: relative;
	}

	@include at-least(medium) {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		width: 100vw;
		height: 100vh;
	}

	.hp_scrolling & {
		@include at-least(medium) {
			// opacity: 0;
		}
	}


	&:before {
		content: ''; 
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: rgba(0,0,0,.1);
	}

}

#hphead_menu {
	z-index: 9999;
	max-width: 100%;

	@include up-to(medium) {
		overflow: hidden;
	}

	li {
		line-height: 1;
	}

}

.hphead_menu_item {
	transition: opacity .4s;

	@include up-to(medium) {
		height: 100vh;
    max-width: 100%;
		position: relative;
		background-size: cover;
    background-repeat: no-repeat;
	}


	@include at-least(medium) {
		.hp_scrolling & {
			opacity: 0
		}
	}

}

.slide_menu-mobile {
	@include up-to(medium) {
		user-select: none;
	  transition: all .5s ease-in-out;
	  
	  li {
	    height: 100vh;	
	  }
	}
}


@keyframes fill_hp_menu_link {
  0% {		
		text-fill-color: transparent;
		-webkit-text-fill-color: transparent;
	}
	10% {
		text-fill-color: rgba(255,255,255,.10);
		-webkit-text-fill-color: rgba(255,255,255,.10);
	}
	20% {
		text-fill-color: rgba(255,255,255,.20);
		-webkit-text-fill-color: rgba(255,255,255,.20);
	}
	30% {
		text-fill-color: rgba(255,255,255,.30);
		-webkit-text-fill-color: rgba(255,255,255,.30);
	}
	40% {
		text-fill-color: rgba(255,255,255,.40);
		-webkit-text-fill-color: rgba(255,255,255,.40);
	}
  50% {
		text-fill-color: rgba(255,255,255,.5);
		-webkit-text-fill-color: rgba(255,255,255,.5);
  }
  60% {
		text-fill-color: rgba(255,255,255,.6);
		-webkit-text-fill-color: rgba(255,255,255,.6);
  }
  70% {
		text-fill-color: rgba(255,255,255,.7);
		-webkit-text-fill-color: rgba(255,255,255,.7);
  }
  80% {
		text-fill-color: rgba(255,255,255,.8);
		-webkit-text-fill-color: rgba(255,255,255,.8);
  }
  90% {
		text-fill-color: rgba(255,255,255,.9);
		-webkit-text-fill-color: rgba(255,255,255,.9);
  }
  100% {
  	color: white;
		text-fill-color: white;
		-webkit-text-fill-color: white;
	}
}


.hphead_menu_link {
	color: white;
	display: inline-block;

	@include up-to(medium) {
		height: 100vh;
		display: flex;
		justify-content: space-between;
		flex-direction: column;
		padding: 150px 5% 100px;
		padding: 25vh 5% 10vh;
		background-repeat: no-repeat;
		background-size: cover;
		position: relative;
		background-color: rgba(0,0,0,.2);
	}

	.link_text {
		font-size: 175px;
		font-family: $font_family_title;
		line-height: .7;

		@include up-to(large) {
			font-size: 100px;
		}
		@include up-to(medium) {
			display: none;
		}
		@include at-least(medium) {
			text-stroke: 1px white;
			-webkit-text-stroke: 1px white;
			text-fill-color: transparent;
			-webkit-text-fill-color: transparent;
		}

		@media screen and (min-width: 800px) and (max-height: 900px) {
			font-size: 140px;
		}

	}
	.link_text--mobile {
		font-family: $font_family_title;
		line-height: .7;		
		font-size: 100px;
		word-break: break-all;
		@include at-least(medium) {
			display: none;
		}	
	}

	.menu_item_content {
		position: absolute;
		display: none;
		line-height: 1;
		max-width: 800px;
		transition: all .6s;
		flex-direction: column;
		text-align: left;

		&.pos-top {
			@include at-least(medium) {
				bottom: 50vh;
				top: 150px;
				justify-content: center;
				left: 10%;
			}
		}

		&.pos-bottom {
			@include at-least(medium) {
				bottom: calc(20vh - 90px);
				right: 0;
				top: 50vh;
				justify-content: center;
			}
		}

		@include up-to(medium) {
			position: relative;
			font-size: 29px;
			top: unset;
    	display: block;
			z-index: 99;
			line-height: 1;
		}

		@include at-least(medium) {
			width: 50%;
			opacity: 0;
		}

	}

	.menu_item_title {
		font-size: 64px;
		font-weight: bold;
		margin-bottom: 30px;
		@include up-to(medium) {
			font-size: 29px;
		}
	}

	.menu_item_date {
		font-size: 30px;
		font-weight: normal;
		font-style: normal;
		margin-bottom: 15px;
		@include up-to(medium) {
			font-size: 17px;
		} 
	}

	&.focused {
		.menu_item_content {
			display: flex;
			opacity: 1;
		}
	}
}

.focused .hphead_menu_link,
.hphead_menu_link.focused {
	.link_text {
		animation-name: fill_hp_menu_link;
  	animation-duration: .5s;
		color: white;
		text-fill-color: white;
		-webkit-text-fill-color: white;
	}
}




#hp_news {
	padding: 60px 0;
	position: relative;
	z-index: 9999;
	@include at-least(medium) {
		margin-top: -20vh;
	}
}

	.hp_featured_event {
		//margin-top: -20vh;
		min-height: 700px;
		background-color: rgba(0, 0, 0, 0.4);
		padding-top: 0;
		transition: margin 0.5s, background 0.1s;

		@include up-to(medium) {
			margin-bottom: 60px;
			margin-top: 20px;
		}

		.sticky & {
			margin-top: 0;
		}

		.hp_scrolling & {
			background-color: rgba(0, 0, 0, 0);
			margin-top: 0;
		}
		.hp_scrolling &:before {
			background-color: rgba(0, 0, 0, 0);
		}

		&:before {
			background-color: rgba(0, 0, 0, 0.4);
			z-index: 999;
		}
		.hp_scrolling &:before {
			background-color: rgba(0, 0, 0, 0);
		}

		.item_link {
			height: calc(100vh - 125px);
			display: flex;
	    flex-direction: column;
	    justify-content: space-between;

	    @include up-to(medium) {
	    	height: auto;
	    }
		}



	}

	.featured_event_head {
		max-height: calc(50vh - 175px);
		color: white;
		padding-bottom: 40px;
		padding-right: 40px;
		padding-top: 20px;

		@include up-to(medium) {
			max-height: none;
			padding-right: 0;
		}

		.meta:before {
			width: 37px;
			height: 37px;

			@media screen and (max-height: 800px) {
				width: 30px;
				height: 30px;
			}

			@include up-to(medium) {
				width: 25px;
				height: 25px;		
			}
		}

		.item_type {
			font-size: 24px;
			line-height: 36px;
			margin-bottom: 10px;
			font-weight: 300;

			@media screen and (max-height: 800px) {
				font-size: 20px;
				line-height: 30px;
			}

			@include up-to(medium) {
				font-size: 15px;
				line-height: 25px;
				padding-left: 32px;
			}



		}
		
		.item_title {
			font-size: 122px;
			line-height: 0.85;
			font-family: $font_family_title;
			font-weight: normal;
			margin-bottom: 0;

			@media screen and (max-height: 800px) {
			  height: 15vh;
			}

			@include up-to(large) {
				font-size: 110px;
				height: auto;
			}
			@include up-to(medium) {
				font-size: 97px;
				word-break: break-all;
			}
			@include at-least(medium) {
				height: 20vh;
			}



		}
		
		.item_dates {
			display: flex;
			justify-content: flex-start;
			font-size: 40px;
			line-height: .75;
			font-family: $font_family_title;

			@include up-to(medium) {
				justify-content: space-between;
			}
			p {
				padding-right: 80px;
				margin-bottom: 0;
				@include up-to(large) {
					padding-right: 10px;
				}
			}
			span {
				font-family: $font_family_paragraph;
				font-style: normal;
				font-weight: bold;
				font-size: 16px;
				line-height: 22px;
			}
		}


	}



	.featured_event_media {
		position: relative;
		padding-bottom: 30px;

		@include at-least( medium) {
			img {		
				height: 45vh;
			}
		}

			@media screen and (max-height: 800px) {
				img {		
					height: 40vh;
				}
			}

		@include up-to(medium) {

			.ratio {
			  position: relative;
			  width: 100%;
			  height: 100%;
			  img {
			  	height: 100%;
			  	object-fit: cover;
			  }
			}

			.ratio:after {
			  content: "";
			  display: block;
			  padding-bottom: 100%;
			}

			.inner {
				position: absolute;
			  width: 100%;
			  height: 100%;
			}

			img {
				height: 100%;
			}

		}

		img {
			object-fit: cover;
			width: 100%;
		}


		.item_free_label_outer {
			background: linear-gradient(180deg, #000000 0%, rgba(0, 0, 0, 0) 100%);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
		}
		.item_free_label {
			padding: 10px 14px 20px;
		}

	}




.hp_next_events {
	
	@include at-least(medium) {
		padding-top: 100vh;
		padding-bottom: 30px;
	}

	.item {
		color: white;
		display: block;

		&:not(:last-child) {
			border-bottom: 1px solid rgba(255, 255, 255, 0.3);
			margin-bottom: 30px;
			padding-bottom: 30px;
		}

		&:first-child:before {
			@include up-to(medium) {
				content: '';
				border-top: 1px solid white;
				margin-bottom: 40px;
		    display: block;
		    height: 1px;
		    width: 100vw;
		    margin-left: -5%;
			}
		}
	}

	.item_type {
		line-height: 25px;
	}

	.item_title {
		margin-bottom: 20px;
		color: white;
	}

	.item_media {
		margin-bottom: 10px;

		.img_ratio {
		  position: relative;
		  width: 100%;
		  height: 100%;
		  img {
		  	height: 100%;
		  	object-fit: cover;
		  }
		}

		.img_ratio:after {
		  content: "";
		  display: block;
		  padding-bottom: 80%;
		}
		@include up-to(medium) {
			.img_ratio:after {
				padding-bottom: 75%;
			}
		}

	}

	.item_intro {
		margin-bottom: 20px;
		color: white;
	}

	.item_date {
		color: white;
	}

	.manif_date_item {
		@include up-to(medium) {
			margin-top: 10px;
		}
	}

	.teaser_live {
		position: absolute;
		z-index: 9;
		top: 0;
		left: 0;
		display: inline-block;
		background-color: rgba(0,0,0,.5);
		color: white;
		padding: .3em .4em .4em;
		display: flex;
		align-items: center;
		line-height: 1;

		span {
			padding-right: 10px;
			font-size: 2rem;
			padding-top: 2px;
		}
	}


}





/*
 * OLD HOMEPAGE
 */

.home_main {
	padding-top: $header_height + $base_line_height * 1.5;
	
	&.divided {
		padding-top: $header_height;
	}
	.meta:before {
		//background-color: $color_primary;
	}
	.action,
	.home_main_description {
		color: $white;
	}
	
	.half {
		flex: 1;
		flex-direction: column;
		justify-content: space-between;

		&.left {
			a {
				margin-top: 30px;	
			}
		}

		&.right {
			padding-bottom: $base_line_half;
		}
	}

	.bg_left, 
	.bg_right {

		&:after {
			content: '';
			display: block;
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			background-color: rgba(0,0,0,.15);
		}
	}

	.bg_left {
		right: 50%;
	}
	.bg_right {
		left: 50%;
	}

	@include up-to(medium) {

		.half.right {
			padding-bottom: 0;
		}

		.bg_right {
			top: 56%;
			left: 0;
		}
		.bg_left {
			bottom: 40%;
			right: 0;
		}
	}
}

.home_nextExpo_title {
		margin-bottom: $base_line_height * 1.5;

		@include up-to(medium) {
			margin-bottom: 0;
		}
}
	.home_main_title {
		margin-bottom: $base_line_height;

		@include up-to(medium) {
			  word-break: break-word;
			  -webkit-hyphens: auto;
			  -moz-hyphens: auto;
			  -ms-hyphens: auto;
			  -o-hyphens: auto;
			  hyphens: auto;
		}
	}
	

// Main Aside
	.home_main_aside {
		background-color: rgba(0,0,0,.3);
		position: relative;

		@include up-to(medium) {
			//border-bottom: 1px solid;
			background-color: $white;
			width: 112%;
			left: -6%;
			padding-left: 20px;
			padding-right: 20px;

			.home_shortInfo {
				padding: 20px;
				margin-bottom: 0;
			}
		}

		&:before {
			z-index: 1;
		}
	}
		.days_remaining {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100%;
			width: 100%;

			span {
				margin-top: -.2em;
				// width: 92%;
				// text-align: center;
				// line-height: 0.9;
			}
		}
		.day_start {
			display: flex;
			height: 100%;
			flex-direction: column;
			justify-content: space-between;
			align-items: center;
			padding-bottom: $base_line_height;

			.label {
				align-self: flex-start;
			}
			.date {
				align-self: flex-end;
			}
		}
		.home_horaires {
			color: $white;
			padding-bottom: 0.5em;

			.clock {
				float: left;
				margin-right: $base_line_height / 2;
				margin-top: 5px;
				margin-bottom: 10px;
			}
			.horaires_days {
				width: 45%;
				color: $white;
			}
			* {
				color: inherit;
			}
			
			@include up-to(medium) {
				padding-left: 0;
				padding-right: 0;
				background-color: $white;
				color: $black;
				padding-top: 3em;
				padding-bottom: 3em;

				.is-flex {
					flex-direction: row !important;
				}
				.horaires_days {
					width: 100%;
					color: $black;
				}
			}
		}

		.home_shortInfo {
			background-color: $color_primary;

			&:after {
				z-index: 1;
			}
			@include up-to(medium) {
				padding-right: 2em;
				padding-bottom: 4em;
				margin-left: auto;
				margin-right: auto;
				width: 90%;
			}
		}

		.home_adresse {
			background-color: $white;
			padding-left: 1em;
			padding-right: 1em;

			img {
				width: 65%;
				display: block;
				margin-left: auto;
				margin-right: auto;
			}

			@include up-to(medium) {
				padding-right: 2em;
				padding-left: 2em;
				
				.is-flex {
					flex-direction: row;
					align-items: flex-end;
				}

				img {
			    float: left;
			    width: 35%;
			    margin-right: 10%;
				}
			}
		}




// Next events

.home_aside {

	@include up-to(medium) {
		
		.wrap {
			padding-top: 0;
		}

		.m-full {
			padding-right: 2em !important;
			padding-left: 2em !important;
			width: 110%;
			margin-left: -5%;
		}

		.date_expo {
			display: flex;
			justify-content: space-between;
			align-items: flex-end;			

			span {
				color: $white;
			}
		}
	}
}
	.home_aside--padding {
		padding-bottom: 3em;
	}
	.nextEvents_card {
		@include up-to(medium) {
			// border-bottom: 1px solid;
		}
	}
		.nextEvents_title {
			@include up-to(medium) {
				text-align: left;
				padding-top: $base_line_height;
				padding-bottom: 0;
				border-top: 1px solid $gray_medium;
			}
		}
	.aside_text {
		padding-right: 2em;
	}
	.aside_media {
		padding-left: 2em;
	}






// Shops


	.home_footer {
		background-color: $gray_light;

		.wrapper_nextExpo {

			&:before {
				left: 0;
				height: 15px;
				top: -15px;
				right: 15px;
			}

			&:after {
				left: 0;
				height: 15px;
				bottom: -15px;
				right: 15px;
			}

		}
	}

	.home_shop--dark {
		background-color: $gray_dark;
		color: $white;

		&:before {
			content:'';
			position: absolute;
			height: 30px;
			top: -30px;
			background: $gray_dark;
			left: -20px;
			right: 0;
		}

		&:after {
			content:'';
			position: absolute;
			height: 30px;
			bottom: -30px;
			background: $gray_dark;
			left: -20px;
			right: 0;
		}

		&.home_footer_left {
			padding-right: 2em;
			padding-left: 2em;
		}
		&.home_footer_right {
			padding-left: 2em;
			padding-right: 2em;
		}
		* {
			color: inherit;
		}

		@include up-to(medium) {
			padding-right: 2em;


	    .icon_info span {
	      min-width: 200px;
	    }
			.fc_15 {
				clear: both;
				margin-top: 3em;
			}
		}
	}
	.home_shop--light {
		background-color: $gray_light;
		
		&.home_footer_left {
			padding-right: 2em;
			padding-left: 1em;
		}
		&.home_footer_right {
			padding-left: 2em;
			padding-right: 1em;
		}

		@include up-to(medium) {
			padding-right: 2em;

			.fc_15 {
				clear: both;
				margin-top: 3em;
			}
		}
	}
